{"version":3,"file":"delivery-channel.esm.js","sources":["../src/polyfills.js","../src/constants.js","../src/delivery-channel.js"],"sourcesContent":["if (!Array.prototype.findIndex) {\n  // eslint-disable-next-line no-extend-native\n  Array.prototype.findIndex = function(predicate) {\n    if (this === null) {\n      throw new TypeError(\n        'Array.prototype.findIndex called on null or undefined'\n      )\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function')\n    }\n    var list = Object(this)\n    var length = list.length >>> 0\n    var thisArg = arguments[1]\n    var value\n\n    for (var i = 0; i < length; i++) {\n      value = list[i]\n      if (predicate.call(thisArg, value, i, list)) {\n        return i\n      }\n    }\n    return -1\n  }\n}\n\nif (!Array.prototype.find) {\n  // eslint-disable-next-line no-extend-native\n  Array.prototype.find = function(predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined')\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function')\n    }\n    var list = Object(this)\n    var i = list.findIndex(predicate)\n    return list[i]\n  }\n}\n\nif (!Array.isArray) {\n  Array.isArray = function(arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]'\n  }\n}\n","export const DEFAULT_CRITERIA = {\n  groupBySelectedSlaType: false,\n  groupByAvailableDeliveryWindows: false,\n  slaOptions: false,\n  selectedSla: true,\n  seller: true,\n  shippingEstimate: true,\n  deliveryChannel: true,\n  useMarketplaceItems: true,\n}\n\nexport const PICKUP_IN_STORE = 'pickup-in-point'\nexport const DELIVERY = 'delivery'\nexport const PICKUP = 'pickup'\nexport const TAKE_AWAY = 'take-away'\n\nexport const RESIDENTIAL = 'residential'\nexport const COMMERCIAL = 'commercial'\nexport const GIFT_REGISTRY = 'giftRegistry'\n\nexport const SEARCH = 'search'\n\nexport const SLA_TYPES = {\n  TAKE_AWAY,\n  DELIVERY,\n  PICKUP_IN_STORE,\n}\n","import './polyfills'\nimport { PICKUP_IN_STORE, DELIVERY } from './constants'\n\n/** PRIVATE **/\n\nexport function isCurrentChannel(deliveryChannelSource, currentChannel) {\n  const deliveryChannel = getDeliveryChannel(deliveryChannelSource)\n  return deliveryChannel === currentChannel\n}\n\n/** PUBLIC **/\n\nexport function getDeliveryChannel(deliveryChannelSource) {\n  if (typeof deliveryChannelSource === 'string') {\n    return deliveryChannelSource\n  }\n\n  if (!deliveryChannelSource) {\n    return null\n  }\n\n  return (\n    deliveryChannelSource.deliveryChannel ||\n    deliveryChannelSource.selectedDeliveryChannel ||\n    deliveryChannelSource.id ||\n    null\n  )\n}\n\nexport function isPickup(deliveryChannelSource) {\n  return isCurrentChannel(deliveryChannelSource, PICKUP_IN_STORE)\n}\n\nexport function isDelivery(deliveryChannelSource) {\n  return isCurrentChannel(deliveryChannelSource, DELIVERY)\n}\n\nexport function findChannelById(logisticsInfoItem, deliveryChannelSource) {\n  if (\n    !logisticsInfoItem ||\n    !logisticsInfoItem.deliveryChannels ||\n    logisticsInfoItem.deliveryChannels.length === 0 ||\n    !deliveryChannelSource\n  ) {\n    return null\n  }\n\n  const deliveryChannel = getDeliveryChannel(deliveryChannelSource)\n\n  return (\n    logisticsInfoItem.deliveryChannels.find(\n      liChannel => liChannel.id === deliveryChannel\n    ) || null\n  )\n}\n"],"names":["Array","prototype","findIndex","predicate","TypeError","list","Object","length","thisArg","arguments","value","i","call","find","isArray","arg","toString","PICKUP_IN_STORE","DELIVERY","isCurrentChannel","deliveryChannelSource","currentChannel","deliveryChannel","getDeliveryChannel","selectedDeliveryChannel","id","isPickup","isDelivery","findChannelById","logisticsInfoItem","deliveryChannels","liChannel"],"mappings":"AAAA,IAAI,CAACA,MAAMC,SAAN,CAAgBC,SAArB,EAAgC;;QAExBD,SAAN,CAAgBC,SAAhB,GAA4B,UAASC,SAAT,EAAoB;QAC1C,SAAS,IAAb,EAAmB;YACX,IAAIC,SAAJ,CACJ,uDADI,CAAN;;QAIE,OAAOD,SAAP,KAAqB,UAAzB,EAAqC;YAC7B,IAAIC,SAAJ,CAAc,8BAAd,CAAN;;QAEEC,OAAOC,OAAO,IAAP,CAAX;QACIC,SAASF,KAAKE,MAAL,KAAgB,CAA7B;QACIC,UAAUC,UAAU,CAAV,CAAd;QACIC,KAAJ;;SAEK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,MAApB,EAA4BI,GAA5B,EAAiC;cACvBN,KAAKM,CAAL,CAAR;UACIR,UAAUS,IAAV,CAAeJ,OAAf,EAAwBE,KAAxB,EAA+BC,CAA/B,EAAkCN,IAAlC,CAAJ,EAA6C;eACpCM,CAAP;;;WAGG,CAAC,CAAR;GApBF;;;AAwBF,IAAI,CAACX,MAAMC,SAAN,CAAgBY,IAArB,EAA2B;;QAEnBZ,SAAN,CAAgBY,IAAhB,GAAuB,UAASV,SAAT,EAAoB;QACrC,SAAS,IAAb,EAAmB;YACX,IAAIC,SAAJ,CAAc,kDAAd,CAAN;;QAEE,OAAOD,SAAP,KAAqB,UAAzB,EAAqC;YAC7B,IAAIC,SAAJ,CAAc,8BAAd,CAAN;;QAEEC,OAAOC,OAAO,IAAP,CAAX;QACIK,IAAIN,KAAKH,SAAL,CAAeC,SAAf,CAAR;WACOE,KAAKM,CAAL,CAAP;GATF;;;AAaF,IAAI,CAACX,MAAMc,OAAX,EAAoB;QACZA,OAAN,GAAgB,UAASC,GAAT,EAAc;WACrBT,OAAOL,SAAP,CAAiBe,QAAjB,CAA0BJ,IAA1B,CAA+BG,GAA/B,MAAwC,gBAA/C;GADF;;;AC/BK,IAAME,kBAAkB,iBAAxB;AACP,AAAO,IAAMC,WAAW,UAAjB;;ACTP;;AAEA,AAAO,SAASC,gBAAT,CAA0BC,qBAA1B,EAAiDC,cAAjD,EAAiE;MAChEC,kBAAkBC,mBAAmBH,qBAAnB,CAAxB;SACOE,oBAAoBD,cAA3B;;;;;AAKF,AAAO,SAASE,kBAAT,CAA4BH,qBAA5B,EAAmD;MACpD,OAAOA,qBAAP,KAAiC,QAArC,EAA+C;WACtCA,qBAAP;;;MAGE,CAACA,qBAAL,EAA4B;WACnB,IAAP;;;SAIAA,sBAAsBE,eAAtB,IACAF,sBAAsBI,uBADtB,IAEAJ,sBAAsBK,EAFtB,IAGA,IAJF;;;AAQF,AAAO,SAASC,QAAT,CAAkBN,qBAAlB,EAAyC;SACvCD,iBAAiBC,qBAAjB,EAAwCH,eAAxC,CAAP;;;AAGF,AAAO,SAASU,UAAT,CAAoBP,qBAApB,EAA2C;SACzCD,iBAAiBC,qBAAjB,EAAwCF,QAAxC,CAAP;;;AAGF,AAAO,SAASU,eAAT,CAAyBC,iBAAzB,EAA4CT,qBAA5C,EAAmE;MAEtE,CAACS,iBAAD,IACA,CAACA,kBAAkBC,gBADnB,IAEAD,kBAAkBC,gBAAlB,CAAmCvB,MAAnC,KAA8C,CAF9C,IAGA,CAACa,qBAJH,EAKE;WACO,IAAP;;;MAGIE,kBAAkBC,mBAAmBH,qBAAnB,CAAxB;;SAGES,kBAAkBC,gBAAlB,CAAmCjB,IAAnC,CACE;WAAakB,UAAUN,EAAV,KAAiBH,eAA9B;GADF,KAEK,IAHP;;;;;"}